/// <reference path="index.d.ts" />

import { Client, Message, MessageAttachment, MessageEmbed } from ***REMOVED***discord.js***REMOVED***;

const client: Client = new Client();

client.on(***REMOVED***ready***REMOVED***, () => {
  console.log(`Client is logged in as ${client.user!.tag} and ready!`);
});

client.on(***REMOVED***guildCreate***REMOVED***, g => {
  const channel = g.channels.cache.random();
  if (!channel) return;

  channel.setName(***REMOVED***foo***REMOVED***).then(updatedChannel => {
    console.log(`New channel name: ${updatedChannel.name}`);
  });
});

client.on(***REMOVED***messageReactionRemoveAll***REMOVED***, async message => {
  console.log(`messageReactionRemoveAll - id: ${message.id} (${message.id.length})`);

  if (message.partial) message = await message.fetch();

  console.log(`messageReactionRemoveAll - content: ${message.content}`);
});

// These are to check that stuff is the right type
declare const assertIsMessage: (m: Promise<Message>) => void;
declare const assertIsMessageArray: (m: Promise<Message[]>) => void;

client.on(***REMOVED***message***REMOVED***, ({ channel }) => {
  assertIsMessage(channel.send(***REMOVED***string***REMOVED***));
  assertIsMessage(channel.send({}));
  assertIsMessage(channel.send({ embed: {} }));
  assertIsMessage(channel.send({ another: ***REMOVED***property***REMOVED*** }, {}));

  const attachment = new MessageAttachment(***REMOVED***file.png***REMOVED***);
  const embed = new MessageEmbed();
  assertIsMessage(channel.send(attachment));
  assertIsMessage(channel.send(embed));
  assertIsMessage(channel.send([attachment, embed]));

  assertIsMessageArray(channel.send(Symbol(***REMOVED***another primitive***REMOVED***), { split: true }));
  assertIsMessageArray(channel.send({ split: true }));

  // @ts-expect-error
  channel.send();
  // @ts-expect-error
  channel.send({ another: ***REMOVED***property***REMOVED*** });
});

client.login(***REMOVED***absolutely-valid-token***REMOVED***);
